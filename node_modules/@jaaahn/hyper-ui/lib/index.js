import * as components from "./components.js";

import "./globals.scss";
import useLightmode from "./themes/useLightmode.scss";
import useDarkmode from "./themes/useDarkmode.scss";
import useSystem from "./themes/useSystem.scss";

export default function install(app, options) {
    // Install components
    Object.keys(components).forEach((componentName) => {
        app.component(componentName, components[componentName]);
    });

    // Output config, if in dev mode
    if (process.env.NODE_ENV == "development") {
        console.log("HyperUI config", options);
    }

    // Apply themes
    let themes = {
        system: useSystem,
        dark: useDarkmode,
        light: useLightmode,
    };

    let themeElement = document.createElement("style");
    themeElement.id = "HyperUI_Theme_Inject_Style_Element";
    themeElement.innerHTML = themes[options?.theme ?? "system"];
    document.body.appendChild(themeElement);
}
