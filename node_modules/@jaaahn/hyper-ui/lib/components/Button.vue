<template>
    <div class="hyper-button" :style="{ maxWidth: extend ? '' : 'max-content' }">
        <button :class="[type, { hideText: loading }]" :disabled="disabled || loading">
            <slot />
        </button>
        <HyLoader v-if="loading" :width="25" :height="25" :line="3" />
    </div>
</template>

<script>
import HyLoader from "./Loader.vue";

export default {
    name: "HyButton",
    props: {
        type: {
            type: String,
            default: "secondary",
        },
        loading: {
            type: Boolean,
            default: false,
        },
        disabled: {
            type: Boolean,
            default: false,
        },
        extend: {
            type: Boolean,
            default: true,
        },
    },
    components: {
        HyLoader,
    },
};
</script>

<style lang="scss">
.hyper-button {
    margin: var(--element-margin);
    position: relative;
    min-width: max-content;

    button {
        -moz-appearance: none;
        -webkit-appearance: none;
        appearance: none;

        width: 100%;
        border-radius: var(--element-border-radius);
        padding: var(--element-padding);
        font-size: var(--font-size);
        font-family: var(--font-family);
        font-weight: bold;
        cursor: pointer;
        transition: var(--element-transition);
        transition-property: background-color, color, border, filter;
        border: var(--element-border-secondary);
        box-shadow: var(--element-shadow);

        &:disabled {
            cursor: not-allowed;
            filter: opacity(50%);

            * {
                pointer-events: none;
            }
        }

        &.hideText {
            color: transparent !important;
        }

        &.primary,
        &.light-blue,
        &.light-red,
        &.light-orange,
        &.light-green,
        &.transparent {
            border-color: transparent;
        }

        // Primary Style
        &.primary {
            background-color: var(--element-primary-bg-color);
            color: var(--font-color-bright);

            &:not([disabled]):hover {
                background-color: var(--element-primary-hover-bg-color);
            }
        }

        // Secondary Style
        &.secondary {
            background-color: var(--element-secondary-bg-color);
            color: var(--font-color-dark);

            &:not([disabled]) {
                &:hover {
                    background-color: var(--element-secondary-hover-bg-color);
                }

                &:focus,
                &:active {
                    border: var(--element-border-accent);
                }
            }
        }

        // !! For all almost transparent styles
        &.light-blue,
        &.light-red,
        &.light-orange,
        &.light-green,
        &.transparent {
            background-color: transparent;
            box-shadow: none;
        }

        // Transparent Style
        &.transparent {
            color: var(--font-color-dark);

            &:not([disabled]):hover,
            &.hideText {
                background-color: var(--button-light-blue-hover);
            }

            &:not([disabled]) {
                &:focus,
                &:active {
                    border: var(--element-border-accent);
                }
            }
        }

        // Light blue Style
        &.light-blue {
            color: var(--button-light-blue-font);

            &:not([disabled]):hover,
            &.hideText {
                background-color: var(--button-light-blue-hover);
            }

            &:not([disabled]) {
                &:focus,
                &:active {
                    border: 2px solid var(--button-light-blue-font);
                }
            }
        }

        // Light red Style
        &.light-red {
            color: var(--button-light-red-font);

            &:not([disabled]):hover,
            &.hideText {
                background-color: var(--button-light-red-hover);
            }

            &:not([disabled]) {
                &:focus,
                &:active {
                    border: 2px solid var(--button-light-red-font);
                }
            }
        }

        // Light orange Style
        &.light-orange {
            color: var(--button-light-orange-font);

            &:not([disabled]):hover,
            &.hideText {
                background-color: var(--button-light-orange-hover);
            }

            &:not([disabled]) {
                &:focus,
                &:active {
                    border: 2px solid var(--button-light-orange-font);
                }
            }
        }

        // Light green Style
        &.light-green {
            color: var(--button-light-green-font);

            &:not([disabled]):hover,
            &.hideText {
                background-color: var(--button-light-green-hover);
            }

            &:not([disabled]) {
                &:focus,
                &:active {
                    border: 2px solid var(--button-light-green-font);
                }
            }
        }
    }

    .hyper-loader {
        position: absolute;
        top: calc(50% - 12.5px);
        left: calc(50% - 12.5px);
    }
}
</style>
